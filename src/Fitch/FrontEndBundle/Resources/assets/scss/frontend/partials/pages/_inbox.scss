/*------------------------------------------------*/
/*	Page: Inbox
/*------------------------------------------------*/

@mixin inbox-button-variant($color) {
  background-color: $color;
  border-color: darken($color, 5%);

  &:hover {
    background-color: darken($color, 5%);
    border-color: darken($color, 12%);
  }
}

.inbox {
  .searchbox {
    margin-bottom: 10px;
    width: 45em;
    padding-left: 4.8em;

    @include max-screen($break-large) {
      width: auto;
      padding-left: initial;
    }
  }

  .top {
    .row {
      > div:first-child {
        padding-right: 0;

        @include max-screen($break-large) {
          padding-right: 15px;
        }
      }
    }
  }

  .top-menu {
    padding-left: 21px;
    border-left: 1px solid $line-color;

    @include max-screen($break-large - 1px) {
      padding-left: 0;
      border-left: none;
      margin-top: 10px;
    }

    .top-menu-label {
      margin-right: 5px;
    }

    > ul,
    .simple-checkbox-all {
      @include inline-block;
    }

    > ul {
      margin-right: 10px;

      > li {
        padding-left: 0;
        padding-right: 0;
      }
    }

    .btn {
      background-color: #e4e4e4;
      color: darken(#e4e4e4, 45%);
      font-size: 0.85em;

      &:hover {
        color: darken(#e4e4e4, 65%);
      }

      &:active, &.active,
      &:focus, &.focus {
        @include box-shadow(none);

        outline: none;
      }
    }

    .btn-group.open {
      .dropdown-toggle {
        @include box-shadow(none);
      }
    }

    ul.dropdown-menu {
      li {
        font-size: 0.9em;

        a {
          color: darken(#e4e4e4, 45%);
          padding: 3px 11px;
        }
      }
    }

    .navigation {
      position: absolute;
      top: -6px;
      right: 0;

      .inbox-nav-toggle {
        font-size: 22px;
        position: relative;
        top: 9px;
        float: left;
      }

      @include max-screen($break-small) {
        display: block;
        position: initial;

        .pager-wrapper {
          float: right;
        }
      }

      .info {
        position: relative;
        top: 2px;
        right: 15px;
        font-size: 0.85em;
      }

      ul.pager {
        @include inline-block;

        margin: 0;
        position: relative;
        right: 8px;

        @include max-screen($break-small) {
          position: initial;
        }

        li {
          font-size: 24px;

          a {
            color: darken(#e4e4e4, 45%);
            padding: 5px 7px;

            &:hover {
              color: darken(#e4e4e4, 65%);
            }
          }
        }
      }
    }
  }

  .bottom {
    border-top: 1px solid $line-color;

    .row {
      > .inbox-left-menu {
        padding-right: 0;
        padding-top: 14px;

        @include max-screen($break-small) {
          display: none;
          padding-right: 15px;
        }
      }

      .messages {
        border-left: 1px solid $line-color;
        padding-left: 15px;
        padding-top: 10px;

        @include max-screen($break-medium) {
          border-left: none;
          padding-left: 0;
        }
      }
    }

    ul.left-menu {
      margin-bottom: 40px;

      li {
        a {
          display: block;
          color: lighten($base-font-color-dark, 20%);
          padding: 5px 0px;
          font-size: 0.9em;

          &:hover {
            color: $base-font-color-dark;
            text-decoration: none;
          }
        }

        &.active {
          a {
            color: $brand-primary;
            background-color: lighten($brand-primary, 70%);
            margin-left: -5px;
            margin-right: -5px;
            padding-left: 5px;
            padding-right: 5px;
          }
        }

        i {
          width: 15px;
          margin-right: 5px;
        }

        .badge {
          background-color: #a2a2aa2;
          color: $widget-bg-color;
        }

        &.new-group {
          margin-top:8px;
        }
      }
    }

  }

  .labels {
    h3 {
      font-size: 1em;
    }

    li {
      a {
        font-size: 0.9em;
        color: lighten($base-font-color-dark, 20%);

        &:hover {
          color: $base-font-color-dark;
          text-decoration: none;
        }
      }

      i {
        width: 14px;
        height: 14px;
        position: relative;
        top: 2px;
      }
    }
  }

  .message-label {
    padding: 3px;
    font-size: 0.8em;
    font-family: $secondary-font-family-bold;
    color: #fff !important;

    @include max-screen($break-medium) {
      display: none;
    }
  }

  .label1 {
    color: #97DD03;
    background-color: #97DD03;
  }

  .label2 {
    color: #03CCDD;
    background-color: #03CCDD;
  }

  .label3 {
    color: #DD4003;
    background-color: #DD4003;
  }

  table.message-table {
    table-layout: fixed;

    @include max-screen($break-medium) {
      display: block;
    }

    colgroup {
      .col-check {
        width: 25px;
      }

      .col-star {
        width: 25px;
      }

      .col-from {
        width: 140px;
      }

      .col-bot {
        width: 50px;
      }

      .col-timestamp {
        width: 160px;
      }

      @include max-screen($break-medium) {
        .col-from,
        .col-blank, .col-timestamp {
          width: auto;
        }
      }
    }

    tr {
      cursor: pointer;
      border-bottom: 1px solid $body-bg-color;

      .simple-checkbox {
        @include inline-block;

        position: relative;
        top: 3px;

        input[type="checkbox"] + label {
          margin-right: 0;
          padding-left: 0;

          &:before {
            background-color: #fff;
          }
        }
      }

      &.unread {
        font-weight: 700;
        background-color: #fcfcfc;

        .icon-attachment i {
          color: initial;
        }

        td {
          &:nth-child(3) {
            .btn {
              font-weight: 700;
            }
          }
        }
      }

      &.ignored {
        td {
          color: #ccc;
        }

        &.unread {
          font-weight: 600;
          td {
            &:nth-child(3) {
              .btn {
                font-weight: 600;
              }
            }
          }
        }

        .fa-star {
          color: lighten(#ffb800, 30%) !important;
          // the-yellow is marked as important so assetic throws an error if we try and lighten it
        }

        .ignored-message-label {
          background-color: transparent;
          color: #ccc !important;
          border: 1px solid #ccc;
          font-size:0.8em;
          font-family: "latobold";
          padding:2px;
        }

        .title {
          &:hover {
            i {
              color: $the-red;
            }

            color: darken(#e4e4e4, 65%) !important;
            text-decoration: none;
          }
        }
      }

      &.highlighted {
        background-color: lighten($brand-primary, 70%);
      }

      td {
        color: $base-font-color-dark;
        font-size: 0.9em;
        white-space: nowrap;
        overflow: hidden;
        vertical-align: top;

        &:nth-child(3) {
          @include max-screen($break-medium) {
            display: block;
            white-space: normal;
            overflow: visible;
          }
          overflow: visible;

          .btn {
            padding: 0;
            background-color: transparent;
            font-size: inherit;
            font-family: inherit;

            &:hover {
              color: darken(#e4e4e4, 65%);
            }

            &:active, &.active,
            &:focus, &.focus {
              @include box-shadow(none);

              outline: none;
            }
          }

          .btn-group.open {
            .dropdown-toggle {
              @include box-shadow(none);
            }
          }

          ul.dropdown-menu {
            li {
              font-size: 0.9em;

              &.selected {
                background-color: #e4e4e4;
              }

              a {
                color: darken(#e4e4e4, 45%);
                padding: 3px 11px;
              }
            }
          }
        }

        &:nth-child(4) {
          @include max-screen($break-medium) {
            display: block;
            white-space: normal;
            overflow: visible;
          }
        }

        span.title {
          text-decoration: none;
          &:hover {
            text-decoration: underline;
          }
        }

        .message-detail {
          padding-top: 5px;
          padding-bottom: 5px;

          .message-unable-to-respond {
            font-weight: normal;
            color: #aaa;
          }

          .record-actions {
            margin-top: 8px;
            margin-bottom: 0;
            padding: 8px;
            overflow: visible;

            .btn {

              color: $gray;
              @include inbox-button-variant(darken($gray-lighter,5%));

              &.btn-brand {
                @include inbox-button-variant($brand-info);
                color: white;
                .fa {
                  color: white;
                }
              }

              &.btn-default {
                @include inbox-button-variant($brand-success);
                color: white;
                .fa {
                  color: white;
                }
              }

              &.btn-danger {
                @include inbox-button-variant($brand-danger);
                color: white;
                .fa {
                  color: white;
                }
              }

              .fa {
                color: $gray;
                font-size: 0.9em;
                top: 1px;
              }
            }

            .immediate-mode-faux-label {
              margin-right: 10px;
              font-size: 0.9em;
              margin-top: 4px;
            }

            .onoffswitch {
              display: inline-block;
              vertical-align: middle;
              zoom: 1;
            }
          }

          .input-group-sm {
            &.has-warning .char-count {
              color: $the-yellow;
            }
            &.has-error .char-count {
              color: $the-red;
            }
          }
        }

        &:hover {
          text-decoration: none;
        }

        i {
          font-size: 17px;
          position: relative;
          top: 2px;
          color: #ccc;

          &.fa-star {
            color: $the-yellow;
          }
        }

        .from {
          @include inline-block;

          margin-right: 20px;
        }

        .preview {
          font-weight: normal;
          color: #aaa;
        }

        .timestamp {
          @include inline-block;

          float: right;
        }
      }
    }
  }

  .response-detail {
    border-top: 1px solid ghostwhite;
    margin-left: 22px;

    .message-detail {
      margin-left: 22px;
    }

    .activity-icon {
      margin-top: 3px;
    }
  }

  .activity-icon {
    width: 16px;
  }

  div#modal-compose {

    .dropdown-menu {
      font-size:0.9em;
      li {
        a {
          padding:1px 10px;

          label.radio:before {
            margin-right: 5px;
          }
        }
      }
    }

    .btn-select {
      border: 1px solid #ccc;
      border-left: none;
    }

    textarea.has-error {
      border-color: #a94442;
      -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075), 0 0 6px #ce8483;
      box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075), 0 0 6px #ce8483;
    }

    .has-error {
      span.input-group-addon, button {
        border-color: #a94442;
        -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075), 0 0 6px #ce8483;
        box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075), 0 0 6px #ce8483;
      }

    }

    .reply-wrapper {
      width:100%;
    }


    .form-inline {
      margin-bottom:15px;
    }

    .tab-content {
      padding-bottom:0;
    }

    .onoffswitch {
      padding-top:4px;
      display: inline-block;
      vertical-align: middle;
      zoom: 1;
    }

    .immediate-mode-faux-label {
      padding-top:2px;
    }

    p.js-textarea-help {
      margin-bottom:0;
    }

    label.onoffswitch-label {
      text-align: left;
    }
  }
}
